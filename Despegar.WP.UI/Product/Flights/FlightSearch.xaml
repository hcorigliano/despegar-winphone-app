<Page
    NavigationCacheMode="Enabled"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Despegar.WP.UI.Product.Flights"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Classes="using:Despegar.WP.UI.Model.Classes"
    xmlns:Model="using:Despegar.WP.UI.Model"
    x:Class="Despegar.WP.UI.Product.Flights.FlightSearch"
    mc:Ignorable="d"
    Style="{StaticResource BasePage}">
    
    <Page.BottomAppBar>
        <CommandBar ClosedDisplayMode="Compact">
            <!--<AppBarButton Icon="Setting" x:Uid="Home_Settings" FontSize="14" Click="AppBarButton_Click" />-->
        </CommandBar>
    </Page.BottomAppBar>

    <Grid x:Name="LayoutRoot" Style="{StaticResource MainContainerGrid}">
        <Grid.ChildrenTransitions>
            <TransitionCollection>
                <EntranceThemeTransition/>
            </TransitionCollection>
        </Grid.ChildrenTransitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="{StaticResource PageHeaderHeight}"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title Panel -->
        <StackPanel Grid.Row="0">
            <Image Style="{StaticResource TopLogo}" />
            <StackPanel>
                <TextBlock x:Uid="Page_FlightSearch" Style="{StaticResource PageHeader}" Text="Búsqueda" />
            </StackPanel>
        </StackPanel>

        <Pivot xmlns:src="using:Despegar.WP.UI.Controls.Flights" Grid.Row="1" x:Name="ContentRoot">
            <Pivot.HeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding}"  Style="{StaticResource PivotHeader}"  />
                </DataTemplate>
            </Pivot.HeaderTemplate>

            <!--ReoundTrip Flights-->
            <PivotItem x:Uid="Flight_Search_Round_Trip" Style="{StaticResource PivotItem}"  Header="Ida y Vuelta" >
                <ScrollViewer>
                    <StackPanel>
                        <StackPanel VerticalAlignment="Top" HorizontalAlignment="Stretch">

                            <src:SearchAirport x:Name="airportsContainerRoundTrip"/>

                            <src:DateControl x:Name="dateControlContainerRoundTrip"/>

                            <src:QuantityPassagersControl x:Name="quantityPassagersContainerRoundTrip"/>

                        </StackPanel>

                        <Button x:Uid="Flights_Search_SearchButton" Click="ButtonSearch_Click" Style="{StaticResource ButtonBase}" Content="Buscar vuelos"/>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>

            <!--OneWay Flights-->
            <PivotItem  x:Uid="Flight_Search_One_Way" Header="Ida">
                <ScrollViewer>
                    <StackPanel>
                        <TextBlock Text="IDA"/>
                        <StackPanel  VerticalAlignment="Top" HorizontalAlignment="Stretch">

                            <src:SearchAirport x:Name="airportsContainerOneWay"></src:SearchAirport>

                            <src:DateControlSimple x:Name="dateControlContainerOneWay"></src:DateControlSimple>

                            <src:QuantityPassagersControl x:Name="quantityPassagersContainerOneWay"></src:QuantityPassagersControl>

                        </StackPanel>

                        <Button Click="ButtonReturn_Click" x:Name="OneWayButton" HorizontalAlignment="Center" Content="Buscar vuelos"/>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>

            <!--Multiple flights-->
            <PivotItem x:Uid="Flight_Search_Multple"  Header="Multiples">
                <ScrollViewer>
                    <StackPanel>
                        <StackPanel  VerticalAlignment="Top" HorizontalAlignment="Stretch">

                            <StackPanel x:Name="segmentMultipleStackPanel"></StackPanel>

                            <Grid x:Name="sectionSubGrid" Visibility="Collapsed">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"></ColumnDefinition>
                                    <ColumnDefinition Width="auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Uid="Flight_Search_Sub_Section" Grid.Column="0"></TextBlock>
                                <Button x:Name="subSectionButton" Grid.Column="1" Click="subSectionButton_Click"></Button>
                            </Grid>

                            <Grid x:Name="sectionAddGrid">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"></ColumnDefinition>
                                    <ColumnDefinition Width="auto"></ColumnDefinition>
                                </Grid.ColumnDefinitions>
                                <TextBlock x:Uid="Flight_Search_Add_Section" Grid.Column="0"></TextBlock>
                                <Button x:Name="addSectionButton" Grid.Column="1" Click="addSectionButton_Click"></Button>
                            </Grid>

                            <src:QuantityPassagersControl x:Name="quantityPassagersContainerMultiple"></src:QuantityPassagersControl>

                        </StackPanel>

                        <Button Click="ButtonReturn_Click" x:Name="MultipleButton" HorizontalAlignment="Center" Content="Buscar vuelos"/>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>

        </Pivot>

    </Grid>
</Page>
